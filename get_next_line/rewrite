переписать без мультифд на мемах
вероятно течет, не понятно, когда началось (исправил или подача прочитанного?)
переделать по принципу Дениса (*line один и тот же мемувом переносим куски постоянно в начало. т.е. Адрес не меняетяся, сокращается количество элементов к началу)
abcd\nefg\nhigklm\nPQR\nSTU\0
efg\nhigklm\nPQR\nSTUR\nSTU\0
higklm\nPQR\nSTUR\nSTU\nSTU\0
PQR\nSTUR\nSTU\nSTUSTU\nSTU\0
STUR\nSTU\nSTUSTU\nSTU\nSTU\0
\0STU\nSTUSTU\nSTU\nSTUnSTU\0
Фришим строку один раз, тк адрес не меняется
Самоуничтожение списка, если сломался malloc